{"ast":null,"code":"var _jsxFileName = \"/Users/choseong-jin/react_spring_boot/front-end/mall/src/components/products/ListComponent.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { getList } from \"../../api/productsApi\";\nimport useCustomMove from \"../../hooks/useCustomMove\";\nimport FetchingModal from \"../common/FetchingModal\";\nimport { API_SERVER_HOST } from \"../../api/todoApi\";\nimport PageComponent from \"../common/PageComponent\";\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst host = API_SERVER_HOST;\nconst initState = {\n  dtoList: [],\n  pageNumList: [],\n  pageRequestDTO: null,\n  prev: false,\n  next: false,\n  totoalCount: 0,\n  prevPage: 0,\n  nextPage: 0,\n  totalPage: 0,\n  current: 0\n};\nconst ListComponent = () => {\n  _s();\n  const {\n    page,\n    size,\n    refresh,\n    moveToList,\n    moveToRead\n  } = useCustomMove();\n  const {\n    exceptionHandle\n  } = useCustomLogin();\n\n  //serverData는 나중에 사용\n  const [serverData, setServerData] = useState(initState);\n\n  //for FetchingModal \n  const [fetching, setFetching] = useState(false);\n  useEffect(() => {\n    setFetching(true);\n    getList({\n      page,\n      size\n    }).then(data => {\n      console.log(data);\n      setServerData(data);\n      setFetching(false);\n    }).catch(err => exceptionHandle(err));\n  }, [page, size, refresh]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"border-2 border-blue-100 mt-10 mr-2 ml-2\",\n    children: [fetching ? /*#__PURE__*/_jsxDEV(FetchingModal, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-wrap mx-auto p-6\",\n      children: serverData.dtoList.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2 p-1 rounded shadow-md border-2\",\n        onClick: () => moveToRead(product.pno),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col  h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-extrabold text-2xl p-2 w-full \",\n            children: product.pno\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-1xl m-1 p-2 w-full flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full overflow-hidden \",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                alt: \"product\",\n                className: \"m-auto rounded-md w-60\",\n                src: `${host}/api/products/view/s_${product.uploadFileNames[0]}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bottom-0 font-extrabold bg-white\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center p-1\",\n                children: [\"\\uC774\\uB984: \", product.pname]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-center p-1\",\n                children: [\"\\uAC00\\uACA9: \", product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)\n      }, product.pno, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PageComponent, {\n      serverData: serverData,\n      movePage: moveToList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(ListComponent, \"6kfok/6Kt5h9rlf7ha7v5b1JgTU=\", false, function () {\n  return [useCustomMove, useCustomLogin];\n});\n_c = ListComponent;\nexport default ListComponent;\nvar _c;\n$RefreshReg$(_c, \"ListComponent\");","map":{"version":3,"names":["useEffect","useState","getList","useCustomMove","FetchingModal","API_SERVER_HOST","PageComponent","useCustomLogin","jsxDEV","_jsxDEV","Fragment","_Fragment","host","initState","dtoList","pageNumList","pageRequestDTO","prev","next","totoalCount","prevPage","nextPage","totalPage","current","ListComponent","_s","page","size","refresh","moveToList","moveToRead","exceptionHandle","serverData","setServerData","fetching","setFetching","then","data","console","log","catch","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","map","product","onClick","pno","alt","src","uploadFileNames","pname","price","movePage","_c","$RefreshReg$"],"sources":["/Users/choseong-jin/react_spring_boot/front-end/mall/src/components/products/ListComponent.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { getList } from \"../../api/productsApi\";\r\nimport useCustomMove from \"../../hooks/useCustomMove\";\r\nimport FetchingModal from \"../common/FetchingModal\";\r\n\r\nimport { API_SERVER_HOST } from \"../../api/todoApi\";\r\nimport PageComponent from \"../common/PageComponent\";\r\nimport useCustomLogin from \"../../hooks/useCustomLogin\";\r\n\r\nconst host = API_SERVER_HOST\r\n\r\n\r\nconst initState = {\r\n  dtoList:[],\r\n  pageNumList:[],\r\n  pageRequestDTO: null,\r\n  prev: false,\r\n  next: false,\r\n  totoalCount: 0,\r\n  prevPage: 0,\r\n  nextPage: 0,\r\n  totalPage: 0,\r\n  current: 0\r\n}\r\n\r\nconst ListComponent = () => {\r\n\r\n  const {page, size, refresh, moveToList, moveToRead} = useCustomMove()\r\n\r\n  const {exceptionHandle} = useCustomLogin()\r\n  \r\n  //serverData는 나중에 사용\r\n  const [serverData, setServerData] = useState(initState)\r\n\r\n  //for FetchingModal \r\n  const [fetching, setFetching] = useState(false)\r\n\r\n  useEffect(() => {\r\n\r\n    setFetching(true)\r\n\r\n    getList({page,size}).then(data => {\r\n      console.log(data)\r\n      setServerData(data)\r\n      setFetching(false)\r\n    }).catch( err => exceptionHandle(err))\r\n\r\n  }, [page,size, refresh])\r\n\r\n  return ( \r\n    <div className=\"border-2 border-blue-100 mt-10 mr-2 ml-2\">\r\n  \r\n      {fetching? <FetchingModal/> :<></>}\r\n  \r\n      <div className=\"flex flex-wrap mx-auto p-6\">\r\n  \r\n        {serverData.dtoList.map(product =>\r\n  \r\n        <div\r\n        key= {product.pno} \r\n        className=\"w-1/2 p-1 rounded shadow-md border-2\"\r\n        onClick={() => moveToRead(product.pno)}\r\n        >  \r\n  \r\n          <div className=\"flex flex-col  h-full\">\r\n            <div className=\"font-extrabold text-2xl p-2 w-full \">\r\n              {product.pno}\r\n            </div>\r\n            <div className=\"text-1xl m-1 p-2 w-full flex flex-col\">\r\n              \r\n              <div className=\"w-full overflow-hidden \">\r\n                <img alt=\"product\"\r\n                className=\"m-auto rounded-md w-60\" \r\n                src={`${host}/api/products/view/s_${product.uploadFileNames[0]}`}/>\r\n              </div>\r\n  \r\n              <div className=\"bottom-0 font-extrabold bg-white\">\r\n                <div className=\"text-center p-1\">\r\n                  이름: {product.pname}\r\n                </div>\r\n                <div className=\"text-center p-1\">\r\n                  가격: {product.price}\r\n                </div>\r\n              </div>\r\n  \r\n            </div>\r\n          </div>\r\n        </div>\r\n        )}\r\n      </div>\r\n\r\n      <PageComponent serverData={serverData} movePage={moveToList}></PageComponent>\r\n\r\n    </div>\r\n  \r\n    );\r\n  \r\n}\r\n \r\nexport default ListComponent;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}